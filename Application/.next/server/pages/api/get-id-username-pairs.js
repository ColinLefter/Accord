"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/get-id-username-pairs";
exports.ids = ["pages/api/get-id-username-pairs"];
exports.modules = {

/***/ "mongodb":
/*!**************************!*\
  !*** external "mongodb" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("mongodb");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fget-id-username-pairs&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fget-id-username-pairs.ts&middlewareConfigBase64=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fget-id-username-pairs&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fget-id-username-pairs.ts&middlewareConfigBase64=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_get_id_username_pairs_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages/api/get-id-username-pairs.ts */ \"(api)/./pages/api/get-id-username-pairs.ts\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_get_id_username_pairs_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_get_id_username_pairs_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/get-id-username-pairs\",\n        pathname: \"/api/get-id-username-pairs\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_get_id_username_pairs_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmdldC1pZC11c2VybmFtZS1wYWlycyZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnBhZ2VzJTJGYXBpJTJGZ2V0LWlkLXVzZXJuYW1lLXBhaXJzLnRzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNMO0FBQzFEO0FBQ2lFO0FBQ2pFO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyxnRUFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsZ0VBQVE7QUFDcEM7QUFDTyx3QkFBd0IsZ0hBQW1CO0FBQ2xEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWFudGluZS1uZXh0LXRlbXBsYXRlLz9mNmQ4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFBhZ2VzQVBJUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9wYWdlcy9hcGkvZ2V0LWlkLXVzZXJuYW1lLXBhaXJzLnRzXCI7XG4vLyBSZS1leHBvcnQgdGhlIGhhbmRsZXIgKHNob3VsZCBiZSB0aGUgZGVmYXVsdCBleHBvcnQpLlxuZXhwb3J0IGRlZmF1bHQgaG9pc3QodXNlcmxhbmQsIFwiZGVmYXVsdFwiKTtcbi8vIFJlLWV4cG9ydCBjb25maWcuXG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsIFwiY29uZmlnXCIpO1xuLy8gQ3JlYXRlIGFuZCBleHBvcnQgdGhlIHJvdXRlIG1vZHVsZSB0aGF0IHdpbGwgYmUgY29uc3VtZWQuXG5leHBvcnQgY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgUGFnZXNBUElSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuUEFHRVNfQVBJLFxuICAgICAgICBwYWdlOiBcIi9hcGkvZ2V0LWlkLXVzZXJuYW1lLXBhaXJzXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvZ2V0LWlkLXVzZXJuYW1lLXBhaXJzXCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogXCJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwiXCJcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fget-id-username-pairs&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fget-id-username-pairs.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/dbConfig.tsx":
/*!**************************!*\
  !*** ./lib/dbConfig.tsx ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getMongoDbUri: () => (/* binding */ getMongoDbUri)\n/* harmony export */ });\nconst username = process.env.MONGODB_USERNAME;\nconst password = process.env.MONGODB_PASSWORD;\nlet uri = process.env.MONGODB_URI;\nif (!username || !password || !uri) {\n    console.error(\"MongoDB connection information is missing in environment variables\");\n    process.exit(1);\n}\nconst constructedUri = uri.replace(\"<username>\", encodeURIComponent(username)).replace(\"<password>\", encodeURIComponent(password));\nconst getMongoDbUri = ()=>constructedUri;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvZGJDb25maWcudHN4IiwibWFwcGluZ3MiOiI7Ozs7QUFBQSxNQUFNQSxXQUFXQyxRQUFRQyxHQUFHLENBQUNDLGdCQUFnQjtBQUM3QyxNQUFNQyxXQUFXSCxRQUFRQyxHQUFHLENBQUNHLGdCQUFnQjtBQUM3QyxJQUFJQyxNQUFNTCxRQUFRQyxHQUFHLENBQUNLLFdBQVc7QUFFakMsSUFBSSxDQUFDUCxZQUFZLENBQUNJLFlBQVksQ0FBQ0UsS0FBSztJQUNsQ0UsUUFBUUMsS0FBSyxDQUNYO0lBRUZSLFFBQVFTLElBQUksQ0FBQztBQUNmO0FBRUEsTUFBTUMsaUJBQWlCTCxJQUNwQk0sT0FBTyxDQUFDLGNBQWNDLG1CQUFtQmIsV0FDekNZLE9BQU8sQ0FBQyxjQUFjQyxtQkFBbUJUO0FBRXJDLE1BQU1VLGdCQUFnQixJQUFNSCxlQUFlIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWFudGluZS1uZXh0LXRlbXBsYXRlLy4vbGliL2RiQ29uZmlnLnRzeD8yZTNmIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHVzZXJuYW1lID0gcHJvY2Vzcy5lbnYuTU9OR09EQl9VU0VSTkFNRTtcbmNvbnN0IHBhc3N3b3JkID0gcHJvY2Vzcy5lbnYuTU9OR09EQl9QQVNTV09SRDtcbmxldCB1cmkgPSBwcm9jZXNzLmVudi5NT05HT0RCX1VSSTtcblxuaWYgKCF1c2VybmFtZSB8fCAhcGFzc3dvcmQgfHwgIXVyaSkge1xuICBjb25zb2xlLmVycm9yKFxuICAgIFwiTW9uZ29EQiBjb25uZWN0aW9uIGluZm9ybWF0aW9uIGlzIG1pc3NpbmcgaW4gZW52aXJvbm1lbnQgdmFyaWFibGVzXCIsXG4gICk7XG4gIHByb2Nlc3MuZXhpdCgxKTtcbn1cblxuY29uc3QgY29uc3RydWN0ZWRVcmkgPSB1cmlcbiAgLnJlcGxhY2UoXCI8dXNlcm5hbWU+XCIsIGVuY29kZVVSSUNvbXBvbmVudCh1c2VybmFtZSkpXG4gIC5yZXBsYWNlKFwiPHBhc3N3b3JkPlwiLCBlbmNvZGVVUklDb21wb25lbnQocGFzc3dvcmQpKTtcblxuZXhwb3J0IGNvbnN0IGdldE1vbmdvRGJVcmkgPSAoKSA9PiBjb25zdHJ1Y3RlZFVyaTsiXSwibmFtZXMiOlsidXNlcm5hbWUiLCJwcm9jZXNzIiwiZW52IiwiTU9OR09EQl9VU0VSTkFNRSIsInBhc3N3b3JkIiwiTU9OR09EQl9QQVNTV09SRCIsInVyaSIsIk1PTkdPREJfVVJJIiwiY29uc29sZSIsImVycm9yIiwiZXhpdCIsImNvbnN0cnVjdGVkVXJpIiwicmVwbGFjZSIsImVuY29kZVVSSUNvbXBvbmVudCIsImdldE1vbmdvRGJVcmkiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./lib/dbConfig.tsx\n");

/***/ }),

/***/ "(api)/./pages/api/get-id-username-pairs.ts":
/*!********************************************!*\
  !*** ./pages/api/get-id-username-pairs.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongodb */ \"mongodb\");\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongodb__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _lib_dbConfig__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/dbConfig */ \"(api)/./lib/dbConfig.tsx\");\n\n\n/**\n * API endpoint to retrieve username and ID pairs for a list of user IDs.\n * \n * This endpoint expects a POST request with a body containing a `friendList`, which is an array of user IDs.\n * It iterates over this list, performing a database query for each ID to find the corresponding user document.\n * For each found user, it constructs an object with the user's `id` and `username` and adds it to an array of such objects.\n * This array is then returned as a JSON response, maintaining the order of IDs as provided in the request.\n * \n * If any user ID in the `friendList` does not correspond to an existing user in the database,\n * the endpoint immediately responds with a 404 error and a message indicating a friend was not found.\n * This behavior ensures the client can be aware of any incorrect or outdated IDs.\n * \n * @param {NextApiRequest} req The incoming Next.js API request object. Expects a POST method and a JSON body containing a `friendList` array.\n * @param {NextApiResponse} res The outgoing Next.js API response object used to send back the result.\n * \n * @returns {void} Responds with a JSON array of objects, each containing `id` and `username` for each user found.\n *                 If an error occurs, responds with a relevant HTTP status code and error message.\n * \n * Usage:\n * POST /api/get-id-username-pairs\n * Body: { \"friendList\": [\"user_id_1\", \"user_id_2\", ...] }\n * \n * Successful Response:\n * HTTP 200 OK\n * Response body: [{ \"id\": \"user_id_1\", \"username\": \"UserOne\" }, { \"id\": \"user_id_2\", \"username\": \"UserTwo\" }, ...]\n * \n * Error Responses:\n * HTTP 404 Not Found - A user ID in the friendList does not match any user in the database.\n * HTTP 500 Internal Server Error - An unexpected error occurred during the operation.\n * \n * Note: This endpoint requires proper authentication and authorization mechanisms to ensure data privacy and security.\n *       Ensure the client making the request is authorized to access the list of user IDs provided in the `friendList`.\n */ async function handler(req, res) {\n    if (req.method === \"POST\") {\n        const { friendList } = req.body; // friendList is an array of user IDs\n        let client = null;\n        try {\n            client = new mongodb__WEBPACK_IMPORTED_MODULE_0__.MongoClient((0,_lib_dbConfig__WEBPACK_IMPORTED_MODULE_1__.getMongoDbUri)());\n            await client.connect();\n            const db = client.db(\"Accord\");\n            const accountsCollection = db.collection(\"Accounts\");\n            // Initialize an empty array for the id-username pairs\n            const idUsernamePairs = [];\n            // Iterate over the friendList array\n            for (const id of friendList){\n                // Using findOne for each ID to ensure the order\n                const user = await accountsCollection.findOne({\n                    id: id\n                });\n                if (user) {\n                    // Push the id-username pair for each found user\n                    idUsernamePairs.push({\n                        id: user.id,\n                        username: user.userName\n                    });\n                } else {\n                    return res.status(404).json({\n                        error: \"A friend was not found during the construction of id-username pairs\"\n                    });\n                }\n            }\n            return res.status(200).json(idUsernamePairs);\n        } catch (error) {\n            console.error(\"Failed to fetch id-username pairs:\", error);\n            return res.status(500).json({\n                error: \"Internal server error\"\n            });\n        } finally{\n            if (client) {\n                await client.close();\n            }\n        }\n    } else {\n        res.setHeader(\"Allow\", [\n            \"POST\"\n        ]);\n        res.status(405).end(`Method ${req.method} Not Allowed`);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvZ2V0LWlkLXVzZXJuYW1lLXBhaXJzLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFDc0M7QUFDUztBQUUvQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Q0FnQ0MsR0FDYyxlQUFlRSxRQUFRQyxHQUFtQixFQUFFQyxHQUFvQjtJQUM3RSxJQUFJRCxJQUFJRSxNQUFNLEtBQUssUUFBUTtRQUN6QixNQUFNLEVBQUVDLFVBQVUsRUFBRSxHQUFHSCxJQUFJSSxJQUFJLEVBQUUscUNBQXFDO1FBQ3RFLElBQUlDLFNBQTZCO1FBRWpDLElBQUk7WUFDRkEsU0FBUyxJQUFJUixnREFBV0EsQ0FBQ0MsNERBQWFBO1lBQ3RDLE1BQU1PLE9BQU9DLE9BQU87WUFDcEIsTUFBTUMsS0FBS0YsT0FBT0UsRUFBRSxDQUFDO1lBQ3JCLE1BQU1DLHFCQUFxQkQsR0FBR0UsVUFBVSxDQUFDO1lBRXpDLHNEQUFzRDtZQUN0RCxNQUFNQyxrQkFBa0IsRUFBRTtZQUUxQixvQ0FBb0M7WUFDcEMsS0FBSyxNQUFNQyxNQUFNUixXQUFZO2dCQUMzQixnREFBZ0Q7Z0JBQ2hELE1BQU1TLE9BQU8sTUFBTUosbUJBQW1CSyxPQUFPLENBQUM7b0JBQUVGLElBQUlBO2dCQUFHO2dCQUN2RCxJQUFJQyxNQUFNO29CQUNSLGdEQUFnRDtvQkFDaERGLGdCQUFnQkksSUFBSSxDQUFDO3dCQUNuQkgsSUFBSUMsS0FBS0QsRUFBRTt3QkFDWEksVUFBVUgsS0FBS0ksUUFBUTtvQkFDekI7Z0JBQ0YsT0FBTztvQkFDTCxPQUFPZixJQUFJZ0IsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQzt3QkFBRUMsT0FBTztvQkFBc0U7Z0JBQzdHO1lBQ0Y7WUFFQSxPQUFPbEIsSUFBSWdCLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUNSO1FBQzlCLEVBQUUsT0FBT1MsT0FBTztZQUNkQyxRQUFRRCxLQUFLLENBQUMsc0NBQXNDQTtZQUNwRCxPQUFPbEIsSUFBSWdCLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7Z0JBQUVDLE9BQU87WUFBd0I7UUFDL0QsU0FBVTtZQUNSLElBQUlkLFFBQVE7Z0JBQ1YsTUFBTUEsT0FBT2dCLEtBQUs7WUFDcEI7UUFDRjtJQUNGLE9BQU87UUFDTHBCLElBQUlxQixTQUFTLENBQUMsU0FBUztZQUFDO1NBQU87UUFDL0JyQixJQUFJZ0IsTUFBTSxDQUFDLEtBQUtNLEdBQUcsQ0FBQyxDQUFDLE9BQU8sRUFBRXZCLElBQUlFLE1BQU0sQ0FBQyxZQUFZLENBQUM7SUFDeEQ7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL21hbnRpbmUtbmV4dC10ZW1wbGF0ZS8uL3BhZ2VzL2FwaS9nZXQtaWQtdXNlcm5hbWUtcGFpcnMudHM/YTliZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IE5leHRBcGlSZXF1ZXN0LCBOZXh0QXBpUmVzcG9uc2UgfSBmcm9tICduZXh0JztcbmltcG9ydCB7IE1vbmdvQ2xpZW50IH0gZnJvbSAnbW9uZ29kYic7XG5pbXBvcnQgeyBnZXRNb25nb0RiVXJpIH0gZnJvbSAnQC9saWIvZGJDb25maWcnO1xuXG4vKipcbiAqIEFQSSBlbmRwb2ludCB0byByZXRyaWV2ZSB1c2VybmFtZSBhbmQgSUQgcGFpcnMgZm9yIGEgbGlzdCBvZiB1c2VyIElEcy5cbiAqIFxuICogVGhpcyBlbmRwb2ludCBleHBlY3RzIGEgUE9TVCByZXF1ZXN0IHdpdGggYSBib2R5IGNvbnRhaW5pbmcgYSBgZnJpZW5kTGlzdGAsIHdoaWNoIGlzIGFuIGFycmF5IG9mIHVzZXIgSURzLlxuICogSXQgaXRlcmF0ZXMgb3ZlciB0aGlzIGxpc3QsIHBlcmZvcm1pbmcgYSBkYXRhYmFzZSBxdWVyeSBmb3IgZWFjaCBJRCB0byBmaW5kIHRoZSBjb3JyZXNwb25kaW5nIHVzZXIgZG9jdW1lbnQuXG4gKiBGb3IgZWFjaCBmb3VuZCB1c2VyLCBpdCBjb25zdHJ1Y3RzIGFuIG9iamVjdCB3aXRoIHRoZSB1c2VyJ3MgYGlkYCBhbmQgYHVzZXJuYW1lYCBhbmQgYWRkcyBpdCB0byBhbiBhcnJheSBvZiBzdWNoIG9iamVjdHMuXG4gKiBUaGlzIGFycmF5IGlzIHRoZW4gcmV0dXJuZWQgYXMgYSBKU09OIHJlc3BvbnNlLCBtYWludGFpbmluZyB0aGUgb3JkZXIgb2YgSURzIGFzIHByb3ZpZGVkIGluIHRoZSByZXF1ZXN0LlxuICogXG4gKiBJZiBhbnkgdXNlciBJRCBpbiB0aGUgYGZyaWVuZExpc3RgIGRvZXMgbm90IGNvcnJlc3BvbmQgdG8gYW4gZXhpc3RpbmcgdXNlciBpbiB0aGUgZGF0YWJhc2UsXG4gKiB0aGUgZW5kcG9pbnQgaW1tZWRpYXRlbHkgcmVzcG9uZHMgd2l0aCBhIDQwNCBlcnJvciBhbmQgYSBtZXNzYWdlIGluZGljYXRpbmcgYSBmcmllbmQgd2FzIG5vdCBmb3VuZC5cbiAqIFRoaXMgYmVoYXZpb3IgZW5zdXJlcyB0aGUgY2xpZW50IGNhbiBiZSBhd2FyZSBvZiBhbnkgaW5jb3JyZWN0IG9yIG91dGRhdGVkIElEcy5cbiAqIFxuICogQHBhcmFtIHtOZXh0QXBpUmVxdWVzdH0gcmVxIFRoZSBpbmNvbWluZyBOZXh0LmpzIEFQSSByZXF1ZXN0IG9iamVjdC4gRXhwZWN0cyBhIFBPU1QgbWV0aG9kIGFuZCBhIEpTT04gYm9keSBjb250YWluaW5nIGEgYGZyaWVuZExpc3RgIGFycmF5LlxuICogQHBhcmFtIHtOZXh0QXBpUmVzcG9uc2V9IHJlcyBUaGUgb3V0Z29pbmcgTmV4dC5qcyBBUEkgcmVzcG9uc2Ugb2JqZWN0IHVzZWQgdG8gc2VuZCBiYWNrIHRoZSByZXN1bHQuXG4gKiBcbiAqIEByZXR1cm5zIHt2b2lkfSBSZXNwb25kcyB3aXRoIGEgSlNPTiBhcnJheSBvZiBvYmplY3RzLCBlYWNoIGNvbnRhaW5pbmcgYGlkYCBhbmQgYHVzZXJuYW1lYCBmb3IgZWFjaCB1c2VyIGZvdW5kLlxuICogICAgICAgICAgICAgICAgIElmIGFuIGVycm9yIG9jY3VycywgcmVzcG9uZHMgd2l0aCBhIHJlbGV2YW50IEhUVFAgc3RhdHVzIGNvZGUgYW5kIGVycm9yIG1lc3NhZ2UuXG4gKiBcbiAqIFVzYWdlOlxuICogUE9TVCAvYXBpL2dldC1pZC11c2VybmFtZS1wYWlyc1xuICogQm9keTogeyBcImZyaWVuZExpc3RcIjogW1widXNlcl9pZF8xXCIsIFwidXNlcl9pZF8yXCIsIC4uLl0gfVxuICogXG4gKiBTdWNjZXNzZnVsIFJlc3BvbnNlOlxuICogSFRUUCAyMDAgT0tcbiAqIFJlc3BvbnNlIGJvZHk6IFt7IFwiaWRcIjogXCJ1c2VyX2lkXzFcIiwgXCJ1c2VybmFtZVwiOiBcIlVzZXJPbmVcIiB9LCB7IFwiaWRcIjogXCJ1c2VyX2lkXzJcIiwgXCJ1c2VybmFtZVwiOiBcIlVzZXJUd29cIiB9LCAuLi5dXG4gKiBcbiAqIEVycm9yIFJlc3BvbnNlczpcbiAqIEhUVFAgNDA0IE5vdCBGb3VuZCAtIEEgdXNlciBJRCBpbiB0aGUgZnJpZW5kTGlzdCBkb2VzIG5vdCBtYXRjaCBhbnkgdXNlciBpbiB0aGUgZGF0YWJhc2UuXG4gKiBIVFRQIDUwMCBJbnRlcm5hbCBTZXJ2ZXIgRXJyb3IgLSBBbiB1bmV4cGVjdGVkIGVycm9yIG9jY3VycmVkIGR1cmluZyB0aGUgb3BlcmF0aW9uLlxuICogXG4gKiBOb3RlOiBUaGlzIGVuZHBvaW50IHJlcXVpcmVzIHByb3BlciBhdXRoZW50aWNhdGlvbiBhbmQgYXV0aG9yaXphdGlvbiBtZWNoYW5pc21zIHRvIGVuc3VyZSBkYXRhIHByaXZhY3kgYW5kIHNlY3VyaXR5LlxuICogICAgICAgRW5zdXJlIHRoZSBjbGllbnQgbWFraW5nIHRoZSByZXF1ZXN0IGlzIGF1dGhvcml6ZWQgdG8gYWNjZXNzIHRoZSBsaXN0IG9mIHVzZXIgSURzIHByb3ZpZGVkIGluIHRoZSBgZnJpZW5kTGlzdGAuXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxOiBOZXh0QXBpUmVxdWVzdCwgcmVzOiBOZXh0QXBpUmVzcG9uc2UpIHtcbiAgaWYgKHJlcS5tZXRob2QgPT09ICdQT1NUJykge1xuICAgIGNvbnN0IHsgZnJpZW5kTGlzdCB9ID0gcmVxLmJvZHk7IC8vIGZyaWVuZExpc3QgaXMgYW4gYXJyYXkgb2YgdXNlciBJRHNcbiAgICBsZXQgY2xpZW50OiBNb25nb0NsaWVudCB8IG51bGwgPSBudWxsO1xuXG4gICAgdHJ5IHtcbiAgICAgIGNsaWVudCA9IG5ldyBNb25nb0NsaWVudChnZXRNb25nb0RiVXJpKCkpO1xuICAgICAgYXdhaXQgY2xpZW50LmNvbm5lY3QoKTtcbiAgICAgIGNvbnN0IGRiID0gY2xpZW50LmRiKCdBY2NvcmQnKTtcbiAgICAgIGNvbnN0IGFjY291bnRzQ29sbGVjdGlvbiA9IGRiLmNvbGxlY3Rpb24oXCJBY2NvdW50c1wiKTtcblxuICAgICAgLy8gSW5pdGlhbGl6ZSBhbiBlbXB0eSBhcnJheSBmb3IgdGhlIGlkLXVzZXJuYW1lIHBhaXJzXG4gICAgICBjb25zdCBpZFVzZXJuYW1lUGFpcnMgPSBbXTtcblxuICAgICAgLy8gSXRlcmF0ZSBvdmVyIHRoZSBmcmllbmRMaXN0IGFycmF5XG4gICAgICBmb3IgKGNvbnN0IGlkIG9mIGZyaWVuZExpc3QpIHsgLy8gV2UgaGF2ZSB0byBjb25kdWN0IGEgc2luZ3VscmEgZmluZE9uZSBvcGVyYXRpb24gZm9yIGVhY2ggSUQgYmVjYXVzZSB0aGUgcmVzdWx0cyByZXR1cm5lZCBieSAuZmluZCBhcmUgbm90IGRldGVybWluaXN0aWNcbiAgICAgICAgLy8gVXNpbmcgZmluZE9uZSBmb3IgZWFjaCBJRCB0byBlbnN1cmUgdGhlIG9yZGVyXG4gICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBhY2NvdW50c0NvbGxlY3Rpb24uZmluZE9uZSh7IGlkOiBpZCB9KTtcbiAgICAgICAgaWYgKHVzZXIpIHtcbiAgICAgICAgICAvLyBQdXNoIHRoZSBpZC11c2VybmFtZSBwYWlyIGZvciBlYWNoIGZvdW5kIHVzZXJcbiAgICAgICAgICBpZFVzZXJuYW1lUGFpcnMucHVzaCh7IC8vIGZvciBlYWNoIElELCByZXRyaWV2ZSB0aGUgYXNzb2NpYXRlZCB1c2VybmFtZSBhbmQgcHVzaCB0aGF0IHVzZXJuYW1lLWlkIHBhaXIgdG8gdGhlIGFycmF5IHRvIGd1YXJhbnRlZSB0aGUgb3JkZXIgb2YgdGhlIGRhdGFcbiAgICAgICAgICAgIGlkOiB1c2VyLmlkLCAvLyBUaGlzIGlzIHRoZSBJRCBhc3NvY2lhdGVkIHdpdGggdGhlIHBhcnRpY3VsYXIgZnJpZW5kIHRoYXQgaXMgY3VycmVudGx5IGJlaW5nIGV4YW1pbmVkXG4gICAgICAgICAgICB1c2VybmFtZTogdXNlci51c2VyTmFtZVxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7IGVycm9yOiAnQSBmcmllbmQgd2FzIG5vdCBmb3VuZCBkdXJpbmcgdGhlIGNvbnN0cnVjdGlvbiBvZiBpZC11c2VybmFtZSBwYWlycycgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKGlkVXNlcm5hbWVQYWlycyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0ZhaWxlZCB0byBmZXRjaCBpZC11c2VybmFtZSBwYWlyczonLCBlcnJvcik7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ0ludGVybmFsIHNlcnZlciBlcnJvcicgfSk7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIGlmIChjbGllbnQpIHtcbiAgICAgICAgYXdhaXQgY2xpZW50LmNsb3NlKCk7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJlcy5zZXRIZWFkZXIoJ0FsbG93JywgWydQT1NUJ10pO1xuICAgIHJlcy5zdGF0dXMoNDA1KS5lbmQoYE1ldGhvZCAke3JlcS5tZXRob2R9IE5vdCBBbGxvd2VkYCk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJNb25nb0NsaWVudCIsImdldE1vbmdvRGJVcmkiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwibWV0aG9kIiwiZnJpZW5kTGlzdCIsImJvZHkiLCJjbGllbnQiLCJjb25uZWN0IiwiZGIiLCJhY2NvdW50c0NvbGxlY3Rpb24iLCJjb2xsZWN0aW9uIiwiaWRVc2VybmFtZVBhaXJzIiwiaWQiLCJ1c2VyIiwiZmluZE9uZSIsInB1c2giLCJ1c2VybmFtZSIsInVzZXJOYW1lIiwic3RhdHVzIiwianNvbiIsImVycm9yIiwiY29uc29sZSIsImNsb3NlIiwic2V0SGVhZGVyIiwiZW5kIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/get-id-username-pairs.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fget-id-username-pairs&preferredRegion=&absolutePagePath=.%2Fpages%2Fapi%2Fget-id-username-pairs.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();